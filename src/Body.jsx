import { useState , useEffect } from "react";
import axios from "axios";
import languages from "./languages";

const Body = () => {
    
    const [ to , setTo] = useState("")
    const [from , setFrom] = useState("")
    const [input, setInput] = useState("")
    const [output, setOutput] = useState("")   

const url=`https://microsoft-translator-text.p.rapidapi.com/translate?from=${from}&to=${to}&api-version=3.0&profanityAction=NoAction&textType=plain`

const headers = {
    
"Content-Type" : 'application/json',
 "x-rapidapi-host" :' microsoft-translator-text.p.rapidapi.com',
 "x-rapidapi-key" : '7c177a3467msh7dd56d3c76dcb6ep11c4d0jsn259cd6433b4d'
}

const translate = async () => {
    const response = await axios.post(url ,
        [
            {text:input}
        ] ,
        {
            headers
        }
    )
setOutput(response.data[0].translations[0].text)
}

    return(
        <div className=" bg-slate-50 m-auto pt-[20px] sm:pt-[35px] pl-[40px] pr-[40px] h-[670px] sm:h-[550px] w-[800px]">
            <div>
            <h1 className=" text-black text-2xl font-extrabold flex justify-center sm:text-5xl"> Translator </h1></div>

            <br></br>

            <hr className=" h-1 bg-blue-950"></hr>
            <br></br>

            <div className=" sm:flex ">
                <div id="c1">
                <div className=" h-[50px] w-[350px]">
                    <select value={from} onChange={(e) => setFrom(e.target.value) } className="w-[200px] text-center font-bold text-xl h-[40px] bg-slate-300">
                    {
                        Object.entries(languages).map(([code,name]) => (
                            <option key={code} value={code} >{name}</option>
                        ))
                    }
                    </select>
                </div>
                <textarea placeholder="Type your text here.." value={input} onChange={(e) => setInput(e.target.value)} className=" sm:h-[280px] sm:w-[350px] h-[180px] w-[300px] border border-solid p-2 border-black "></textarea>
                </div>

                <div className="c2">
                    <div className=" h-[50px] ml-3 w-[350px]">
                    <select value={to} onChange={(e) => setTo(e.target.value)} className="w-[200px] text-center font-bold text-xl h-[40px] bg-slate-300">
                        {
                            Object.entries(languages).map(([code,name])=>(
                                <option key={code} value={code}>{name}</option>
                            ))
                        }
                    </select>
                     </div>
                <textarea placeholder="Translated Text" value={output} onChange={(e) => setOutput(e.target.value)} className=" sm:h-[280px] sm:w-[350px] h-[180px] w-[300px] p-2 border border-solid border-black"></textarea>
            </div>
            </div>
            <button id="buton" onClick={translate} className=" bg-blue-600 text-white sm:h-10 sm:w-[700px] h-9 w-[300px] md:text-2xl sm:text-lg font-bold mt-[20px] hover:bg-blue-800 rounded-xl border-black"> Translate</button>

        </div>
    )
}

export default Body ;

































































































































































































































































































































































































































































































































































































































































































































































































